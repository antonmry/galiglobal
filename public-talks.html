<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Public talks</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="antonmry">
    <meta name="keywords" content="">
    <meta name="generator" content="generated-from-markdown">

    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/asciidoctor.css" rel="stylesheet">
    <link href="/css/base.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
  </head>
  <body>
    <div id="wrap">
      <div id="navbar-container"></div>
      <div class="container">
        <div id="content">
        <h1 id="public-talks">Public talks</h1>
        <h2 id="2025">2025</h2>
        <ul>
        <li>ESF - <a href="https://bancoreciclaxeelectronica.fala.gal/2025/10/05/nova-edicion-da-escola-de-inverno-de-enxeneria-sen-fronteiras/">A nosa experiencias con Anki</a>: <a href="https://archive.org/details/2025-10-24-escola-de-inverno">slides</a></li>
        <li>Kafka Summit/Current - The Latency-Cost equation for Disaggregated
          Architectures:
          <a href="https://current.confluent.io/post-conference-videos-2025/the-latency-cost-equation-for-disaggregated-architectures-lnd25">video and slides</a></li>
        </ul>
        <h2 id="2024">2024</h2>
        <ul>
        <li>Flink Forward - Cost-Effective Streaming Pipelines with Apache Paimon:
          <a href="https://www.ververica.academy/courses/3d163483-5040-4d60-b5b3-755c3277edf7/activities/45b8d081-140a-48f0-b385-8dd2edb8647d">video</a></li>
        <li>Factorial - "The cell architecture: deep dive": <a href="https://x.com/antonmry/status/1851357850662019159">tweet</a></li>
        <li>Current - Scaling Data Ingestion: Overcoming Challenges with Cell
          Architecture:
          <a href="https://current.confluent.io/2024-sessions/scaling-data-ingestion-overcoming-challenges-with-cell-architecture">video and slides</a></li>
        <li>Datolada - Sistemas de datos: de 0 a ingestar petabytes diarios:
          <a href="https://www.youtube.com/live/5kOry4FJTnQ?feature=shared&amp;t=5687">video</a> and
          <a href="https://docs.google.com/presentation/d/1x9u74TlluxP6JWebcSXSKC6bK-rwd3vvVRxGtJDdvlM/edit?usp=sharing">slides</a></li>
        <li>Codely - Novedades en Java 22 con ejemplos: Stream Gatherers, Foreign Function
          &amp; Memory API: <a href="https://www.youtube.com/watch?v=57JuvUlfzh0">video</a> and
          <a href="https://github.com/antonmry/java-playground/blob/master/java22/Notes.md">code</a></li>
        <li>Kafka Summit - Keep Your Kafka Cloud Costs in Check with Showbacks:
          <a href="https://www.confluent.io/events/kafka-summit-london-2024/keep-your-kafka-cloud-costs-in-check-with-showbacks/">video and slides</a></li>
        <li>Codely - "El reto del billón de filas": Hacks para procesar más de 12GB en 2
          segundos: <a href="https://www.youtube.com/watch?v=yRTZnTQ-fog">video</a></li>
        </ul>
        <h2 id="2023">2023</h2>
        <ul>
        <li>Codely - Novedades en GraalVM: ¿La JVM definitiva para Java?:
          <a href="https://www.youtube.com/watch?v=23VMoxYWXlM">video</a> and
          <a href="https://github.com/antonmry/java-playground/blob/master/graalvm/Notes.md">code</a></li>
        <li>Codely - TOP 5 Novedades de JAVA 21: Unnamed Pattern, Instance Main Method,
          Seq Collections…: <a href="https://www.youtube.com/watch?v=vVoVzCf1ffc">video</a> and
          <a href="https://github.com/antonmry/java-playground/blob/master/java21/Notes.md">code</a></li>
        <li>Codely - TOP 5 Novedades de JAVA 20: Pattern Matching v4 + Record Patterns
          v2…: <a href="https://www.youtube.com/watch?v=czTaREvXrVU">video</a> and
          <a href="https://github.com/antonmry/java-playground/blob/master/java20/Notes.md">code</a></li>
        <li>JChampions Conference - Instrumenting Java applications with OpenTelemetry:
          <a href="https://www.youtube.com/watch?v=RKTzXIZ9VvU">video</a></li>
        </ul>
        <h2 id="2022">2022</h2>
        <ul>
        <li>Codely - TOP 5 Novedades de JAVA 19: <a href="https://www.youtube.com/watch?v=OvRkH1zUAJA&amp;t=1s">video</a></li>
        <li>AWS Build On Live - Intro to eBPF: Explain to Me As if I Was Five:
          <a href="https://dev.to/aws/build-on-live-observability-show-notes-b48/#ebpfs">video</a></li>
        <li>Current - Key Metrics To Uncover the Root Cause of Kafka Performance
          Anomalies:
          <a href="https://www.confluent.io/events/current-2022/key-metrics-to-uncover-the-root-cause-of-kafka-performance-anomalies/">video and slides</a></li>
        <li>P99 Conf - Measuring P99 Latency in Event-Driven Architectures with
          OpenTelemetry:
          <a href="https://www.p99conf.io/session/measuring-p99-latency-in-event-driven-architectures-with-opentelemetry/">video and slides</a></li>
        <li>VigoJUG -
          <a href="https://www.meetup.com/vigojug/events/286706842/">eBPF: cómo lo descubrí y por qué creo que lo va a petar muy fuerte</a></li>
        <li>CoruñaJUG -
          <a href="https://www.meetup.com/corunajug/events/286706809/">eBPF: cómo lo descubrí y por qué creo que lo va a petar muy fuerte</a></li>
        <li>JNation - Monitoring Kafka Without Instrumentation Using eBPF: <a href="https://www.youtube.com/watch?v=s-j6g6mWllU">video</a></li>
        <li>FutureStack - Monitoring Kafka Without Instrumentation Using Pixie:
          <a href="https://docs.google.com/presentation/d/1dFlBQZWUNCATg11xwZsqj0rqcOBtEpOgyUL_USGe7bU/edit?usp=sharing">slides</a></li>
        <li>Factoria F5 - Docker and Kubernetes workshop with a Google Developer Expert:
          <a href="https://gist.github.com/antonmry/c30df97e07e7003a8367cd90c02c8a03">code</a></li>
        <li>JonTheBeach -
          <a href="https://www.jonthebeach.com/home/22/Ant%C3%B3n+Rodr%C3%ADguez">Monitoring Kafka Without Instrumentation Using eBPF</a>:
          <a href="https://www.youtube.com/watch?v=fkSdVwIbbDA">video</a></li>
        <li>Kafka Summit EU -
          <a href="https://www.kafka-summit.org/sessions/monitoring-kafka-without-instrumentation-using-ebpf">Monitoring Kafka Without Instrumentation Using eBPF</a>:
          <a href="https://www.confluent.io/events/kafka-summit-london-2022/monitoring-kafka-without-instrumentation-using-ebpf/">video and slides</a></li>
        <li>Streaming Audio Podcast -
          <a href="https://developer.confluent.io/podcast/monitoring-extreme-scale-apache-kafka-using-ebpf-at-new-relic">Monitoring Extreme-Scale Apache Kafka Using eBPF at New Relic</a>:
          <a href="https://www.youtube.com/watch?v=GZ4Fb_TqvmM">video</a></li>
        <li>Nextail Tech Talk - The Principal's role: <a href="https://docs.google.com/presentation/d/1EJ29gFbxi6YRWu0vPU5dH3vv8Gt1WzL9SOnZGWyrQ1A/edit?usp=sharing">slides</a></li>
        <li>Codely - Moderniza tu aplicación con las nuevas funcionalidades de Java 18:
          <a href="https://www.youtube.com/watch?v=LSYyXMRAVgs">video</a> and
          <a href="https://github.com/antonmry/java-playground/blob/master/java18/Notes.md">code</a></li>
        <li>FOSDEM -
          <a href="https://fosdem.org/2022/schedule/event/monitoring_kafka_using_ebpf/">Monitoring Kafka without instrumentation with eBPF</a>:
          <a href="https://ftp.osuosl.org/pub/fosdem/2022/D.monitoring/monitoring_kafka_using_ebpf.webm">video</a></li>
        <li>DevConf.cz -
          <a href="https://devconfcz2022.sched.com/event/siFD/monitoring-kafka-without-instrumentation-with-ebpf">Monitoring Kafka without instrumentation with eBPF</a>:
          <a href="https://www.youtube.com/watch?v=42o5fURGXqI">video</a></li>
        </ul>
        <h2 id="2021">2021</h2>
        <ul>
        <li>JCP Java Education Interview: <a href="https://jcp.org/files/initiatives/java-in-education/materials/2022_02_15/Anton_Rodriguez.mp4">video</a></li>
        <li>Java User Groups Panel -
          <a href="https://www.meetup.com/es-ES/CorunaJUG/events/282806987/">Qué hemos aprendido del caso Log4j</a>:
          <a href="https://www.youtube.com/watch?v=3iCw7kUfmCc">video</a></li>
        <li>CampusMVP Interview -
          <a href="https://www.linkedin.com/feed/update/urn:li:activity:6863414766682161152/">Análisis masivo de datos en tiempo real</a>:
          <a href="https://www.youtube.com/watch?v=CDs1Svbtb9s">video</a></li>
        <li>Devoxx UK -
          <a href="https://www.devoxx.co.uk/talk/?id=9709">Kafka and Pulsar: a gentle comparison</a>:
          <a href="https://docs.google.com/presentation/d/1-lJWwvtjyBrSckzAgr0B5srlbd0OKHMfjFHim9uhd7E/edit?usp=sharing">slides</a>
          and <a href="https://www.youtube.com/watch?v=ww59G2QXXxc">video</a></li>
        <li>JBCNConf -
          <a href="https://www.jbcnconf.com/2021/infoSpeaker.html?ref=2b14d512d954c54d2bce56f69c2a7e1b755bee2f">Kafka y Pulsar: una comparación gentil</a>:
          <a href="https://docs.google.com/presentation/d/11AIyMZ3GCG6-2krQYFI99gE4_unWPqpJM-fAkPGw8Vc/edit?usp=sharing">slides</a>
          and <a href="https://www.youtube.com/watch?v=9JbYPY4wW_o">video</a></li>
        <li>Pulsar Summit -
          <a href="https://www.na2021.pulsar-summit.org/all-talks/how-big-is-too-big%3F-message-size-in-pulsar">How Big Is Too Big? Message Size in Pulsar</a>:
          <a href="https://docs.google.com/presentation/d/17YzgJmjy32piWA72OrW88x329SF_1HHSJJtfdqhq0W8/edit?usp=sharing">slides</a>
          and <a href="https://www.youtube.com/watch?v=Mispc4z2OHg">video</a></li>
        <li>JNation - Schema Management: the elephant in the Cloud room:
          <a href="https://youtu.be/qWRiblQkJeg?t=989">video</a> and
          <a href="https://docs.google.com/presentation/d/11AIyMZ3GCG6-2krQYFI99gE4_unWPqpJM-fAkPGw8Vc/edit?usp=sharing">slides</a></li>
        <li>Kafka Summit Europe -
          <a href="https://www.kafka-summit.org/sessions/schema-management-the-elephant-in-the-cloud-room">Schema Management: the elephant in the Cloud room</a>:
          <a href="https://docs.google.com/presentation/d/1e2T-KrOLMxIWK-AOq1i4rMPT0hu38Am_7wI6IU2xq2M/edit?usp=sharing">slides</a></li>
        <li>LaretasGeek - <a href="https://www.meetup.com/CorunaJUG/events/277493329/">New Java 16 features special</a>: <a href="https://www.youtube.com/watch?v=JoKTs_F4PTs">video</a></li>
        <li>MadridJUG -
          <a href="https://www.meetup.com/MadridJUG/events/276514609/">APIs en arquitecturas híbridas orientadas a eventos sin morir en el intento</a>:
          <a href="https://www.youtube.com/watch?v=avSI_9Ex3QQ">video</a> and
          <a href="https://docs.google.com/presentation/d/1qYy6dUmJIr8KZtNXR5n9kS7FcgAU5oiXfKMGhkkqogI/edit?usp=sharing">slides</a></li>
        <li>BigData Boutique's AMA - Apache Kafka vs Apache Pulsar: <a href="https://www.youtube.com/watch?v=GUgAxaO92UY">video</a></li>
        <li>Oracledbacr - <a href="https://open.spotify.com/episode/4Uyzyosb4kWvVEbkKqaavI?si=xjPHhf3sRV-2d39fKw0cAQ&amp;nd=1">Podcast Cita a Ciegas</a></li>
        </ul>
        <h2 id="2020">2020</h2>
        <ul>
        <li>PosadaDev -
          <a href="https://convoca.dev/posadev-2020/talk/GZAA8K/">Panel discusion : La oficina del futuro post-pandemia -o incluso antes- desde la visión de devs</a>:
          <a href="https://youtu.be/fBmiacbdRpE?t=10447">video</a></li>
        <li>LicorcaConf -
          <a href="https://compostelatech.org/licorcaconf">Code Review sin tirarse los trastos a la cabeza</a>:
          <a href="https://youtu.be/zoaA6ruNhbI?t=1667">video</a> and
          <a href="https://docs.google.com/presentation/d/1zj0pcTbapkHXBFvY43oPZcnHAUupDO9np06pH8Ta6ro/edit?usp=sharing">slides</a></li>
        <li>BigData Boutique's AMA - Avro, Parquet or JSON? What to use and, more
          importantly, how to do it:
          <a href="https://www.youtube.com/watch?v=9-HkE6XNgo8">video</a></li>
        <li>BigData Boutique's AMA - Kafka Streams: a gentle comparison with other
          frameworks: <a href="https://www.youtube.com/watch?v=KRg7jC4EElw">video</a></li>
        <li>Laretas Geek - <a href="https://www.meetup.com/CorunaJUG/events/273296959/">Especial Kafka</a>: <a href="https://www.youtube.com/watch?v=L25ryiRmTYQ">video</a></li>
        <li>BigData Boutique's AMA - Usage patterns for Kafka - Pub/Sub, Observer, CQRS
          and more: <a href="https://www.youtube.com/watch?v=mAc7XANAuCo">video</a></li>
        <li>BigData Boutique's AMA - How to expose Big Data efficiently: <a href="https://www.youtube.com/watch?v=sH7k5GZ3q00">video</a></li>
        </ul>
        <h2 id="2019">2019</h2>
        <ul>
        <li>CommitConf -
          <a href="https://www.koliseo.com/events/commit-2019/r4p/5106829466009600/agenda#/5690945286701056/5662893479559168">Everything you need to know about Kafka Streams</a>:
          <a href="https://github.com/antonmry/kafka-streams-workshop">source code</a> and
          <a href="https://docs.google.com/presentation/d/1si7FqPx9hh9e_Ut_kaGFOOJ9ZqLhZa2mvI1YWlDB34s/edit?usp=sharing">slides</a></li>
        <li>CoruñaJUG - <a href="https://www.meetup.com/CorunaJUG/events/266199847/">Kafka and databases: a love story</a>: <a href="https://docs.google.com/presentation/d/1QVx3BnoOh0AxqNVPr2H76TJU9-thL2SiGQNqRtjbw_w/edit?usp=sharing">slides</a></li>
        <li>AtlanticaConf -
          <a href="https://www.atlanticaconf.com/">JDK Revolution y el Java que se nos viene encima</a>:
          <a href="https://docs.google.com/presentation/d/1ha_lbbIhzv0KqwqjmkkCb9GNEPLv_JQfAV6yyVK3tA8/edit?usp=sharing">slides</a></li>
        <li>JBCNConf -
          <a href="https://www.jbcnconf.com/2019/infoTalk.html?id=5caa579738da161235721c42">Making possible real-time stock management with the Kappa Architecture</a></li>
        <li>Greach - Containers in anger with Micronaut:
          <a href="https://www.youtube.com/watch?v=2GqK7iy1dWM">video</a> and
          <a href="https://github.com/antonmry/micronaut-app">source code</a></li>
        <li>CoruñaJUG - <a href="https://www.meetup.com/CorunaJUG/events/259528344/">Containers in anger with Micronaut</a>: <a href="https://github.com/antonmry/micronaut-app">source code</a></li>
        <li>VigoJUG - <a href="https://www.meetup.com/VigoJUG/events/259527600/">Containers in anger with Micronaut</a>: <a href="https://github.com/antonmry/micronaut-app">source code</a></li>
        <li>CoruñaJUG - <a href="https://www.meetup.com/CorunaJUG/events/258092694/">Developer Vago: mastering git</a>: <a href="https://drive.google.com/file/d/1hqOyHMeDmeXL2OFsvAGFGfzIgkbzSElr/view">slides</a></li>
        <li>VigoJUG - <a href="https://www.meetup.com/VigoJUG/events/257533396/">Shame on you, Java</a>: <a href="https://antonmry.github.io/talk-vigojug-2017-shame-on-you-java/#/">slides</a> and <a href="https://github.com/antonmry/talk-vigojug-2017-shame-on-you-java">source code</a></li>
        </ul>
        <h2 id="2018">2018</h2>
        <ul>
        <li>VigoJUG - <a href="https://www.meetup.com/VigoJUG/events/255662689/">Introduction to i3wm</a>: <a href="https://github.com/antonmry/dotfiles">source code</a></li>
        <li>JCrete - <a href="https://www.jcrete.org/category/jcrete-2018/">Java unconference</a></li>
        <li>JBCNConf - <a href="https://www.jbcnconf.com/2018/infoTalk.html?id=43">Docker In Anger for Java Developers</a>: <a href="https://github.com/antonmry/docker-java-workshop">source code</a></li>
        <li>CoimbraJUG -
          <a href="https://www.meetup.com/Coimbra-JUG/events/250175880/">Safely Shoot Yourself in the Foot with Microservices</a>:
          <a href="https://drive.google.com/file/d/1Nd7mjJOotZfigPBuYa2gxh4v-7iFBTBp/view">slides</a></li>
        <li>VigoJUG -
          <a href="https://www.meetup.com/VigoJUG/events/246838531/">Developer Vago 2: microbenchmarks, a caza dos erros máis habituais</a>:
          <a href="http://www.vigojug.org/developer-vago-2-micro-benchmarking/#/">slides</a> and
          <a href="https://github.com/vigojug/developer-vago-2-micro-benchmarking">source code</a></li>
        </ul>
        <h2 id="2017">2017</h2>
        <ul>
        <li>LibreCon - <a href="http://galicia2017.librecon.io/ponentes/#amrodriguez">Arquitectura orientada a eventos para IoT, Cloud y Big Data</a></li>
        <li>VigoJUG -
          <a href="https://www.meetup.com/VigoJUG/events/241904216/">Taller de iniciación a Java e a programación orientada a obxectos II</a>:
          <a href="http://www.vigojug.org/taller-iniciacion-2/">slides</a> and
          <a href="https://github.com/vigojug/taller-iniciacion-2">source code</a></li>
        <li>VigoLabs - Introducción a Apache Kafka: <a href="https://antonmry.github.io/talk-vigotech-2017-introduction-to-apache-kafka/#/">slides</a> and <a href="https://github.com/antonmry/talk-vigotech-2017-introduction-to-apache-kafka">source code</a></li>
        <li>GDG DevFest Galicia - Curriculum Vitae vs Open source: <a href="https://www.youtube.com/watch?v=8vrrFYfByWE">video</a></li>
        <li>VigoJUG -
          <a href="https://www.meetup.com/VigoJUG/events/239717467/">Taller de iniciación a Java e a programación orientada a obxectos</a>:
          <a href="http://www.vigojug.org/taller-iniciacion-1/#/">slides</a> and
          <a href="https://github.com/vigojug/taller-iniciacion-1">source code</a></li>
        <li>VigoJUG - <a href="https://www.meetup.com/VigoJUG/events/238120078/">De Groovy... e Sancho Panza</a></li>
        <li>PythonVigo -
          <a href="/blog/2017/20170401-Speaking-about-jython-in-Python-Vigo.html">Introduction to Jython</a>:
          <a href="https://github.com/antonmry/talk-pythonvigo-2017-introduction-to-jython">source code</a>
          and <a href="https://www.youtube.com/watch?v=FwgpPsiYg_o&amp;feature=emb_title">video</a></li>
        </ul>
        <h2 id="2015">2015</h2>
        <ul>
        <li>TADSummit - <a href="/blog/2015/Oracle-Preworkshop-and-TADSummit-2015.html">heart rate monitor</a>: <a href="https://www.youtube.com/watch?v=ao9GRo5cjxM&amp;feature=emb_title">video</a></li>
        <li>Geecon -
          <a href="/blog/2015/A-look-back-to-Geecon-2015.html">Web Real Time Commutations – Voice, video, and Data Communications</a>:
          <a href="https://vimeo.com/131761796">video</a></li>
        <li>SpringIO -
          <a href="/blog/2015/SpringIO-2015-a-great-event-for-a-great-community.html">Using Groovy to empower WebRTC Network Systems</a>:
          <a href="https://www.slideshare.net/antonry/spring-io-2015anton-r-yusteusing-groovy-to-empower-webrtc-netwok-systems">slides</a>
          and <a href="https://github.com/antonmry/SpringIOWebRTCSampleApp">source code</a></li>
        </ul>
        <h2 id="2014">2014</h2>
        <ul>
        <li>TADSummit - <a href="/blog/2014/Oracle-Preworkshop-TADSummit-2014.html">WebRTC implementation/architecture</a>: <a href="https://www.slideshare.net/antonry/webrtc-preconference-oracle-workshop-v3">slides</a></li>
        </ul>
        </div>
        
      </div>
      <div id="push"></div>
    </div>

    <div id="footer-container"></div>

    <script src="/js/jquery-1.11.1.min.js"></script>
    <script src="/js/bootstrap.min.js" defer></script>
    <script src="/js/prettify.js" defer></script>

    <script>
      async function loadContent(url, elementId) {
        try {
          const response = await fetch(url);
          if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
          const html = await response.text();
          const target = document.getElementById(elementId);
          if (!target) return;
          target.innerHTML = html;

          const scripts = target.querySelectorAll('script[data-execute="true"]');
          scripts.forEach((oldScript) => {
            const newScript = document.createElement('script');
            [...oldScript.attributes].forEach((attr) => newScript.setAttribute(attr.name, attr.value));
            newScript.textContent = oldScript.textContent;
            target.appendChild(newScript);
          });
        } catch (error) {
          console.error(`Error loading ${url}:`, error);
          // Fallback to embedded versions if available
          if (elementId === 'navbar-container' && `<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="/index.html">About</a></li>
                <li><a href="/blog-posts.html">Blog</a></li>
                <li><a href="/public-talks.html">Talks</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="https://bsky.app/profile/anton.galiglobal.com" aria-label="BlueSky"><i class="fa-brands fa-bluesky social-icon"></i></a></li>
                <li><a href="https://www.linkedin.com/in/antonmry/" aria-label="LinkedIn"><i class="fab fa-linkedin social-icon"></i></a></li>
                <li><a href="https://github.com/antonmry" aria-label="GitHub"><i class="fab fa-github-square social-icon"></i></a></li>
                <li><a href="https://blog.anton.galiglobal.com/rss" aria-label="RSS"><i class="fas fa-rss-square social-icon"></i></a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</div>
`) {
            const target = document.getElementById(elementId);
            if (target) target.innerHTML = `<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="/index.html">About</a></li>
                <li><a href="/blog-posts.html">Blog</a></li>
                <li><a href="/public-talks.html">Talks</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="https://bsky.app/profile/anton.galiglobal.com" aria-label="BlueSky"><i class="fa-brands fa-bluesky social-icon"></i></a></li>
                <li><a href="https://www.linkedin.com/in/antonmry/" aria-label="LinkedIn"><i class="fab fa-linkedin social-icon"></i></a></li>
                <li><a href="https://github.com/antonmry" aria-label="GitHub"><i class="fab fa-github-square social-icon"></i></a></li>
                <li><a href="https://blog.anton.galiglobal.com/rss" aria-label="RSS"><i class="fas fa-rss-square social-icon"></i></a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</div>
`;
          }
          if (elementId === 'footer-container' && `<!-- start footer -->
<div id="footer">
  <div class="container">
    <p class="muted credit"><span class="small"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"/></a>&nbsp;&nbsp;This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</span></p>
  </div>
</div>
<!-- end footer -->

<!-- start scripts -->
<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="/js/jquery-1.11.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/prettify.js"></script>

<script>if (location.hostname === "localhost" || location.hostname === "127.0.0.1")
    document.write('<script src="http://'
    + (location.host || 'localhost').split(':')[0]
    + ':35729/livereload.js"></'
    + 'script>')</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57796882-1', 'auto');
  ga('send', 'pageview');
</script>

<script data-execute="true">
  (function initLeafletComments() {
    const container = document.getElementById('leaflet-comments');
    if (!container) return;

    const statusId = 'leaflet-comments-status';
    const pathKey = location.pathname.replace(/^\\/+/, '');

    container.innerHTML = \`
      <hr class="text-muted" />
      <h3>Comments</h3>
      <p class="text-muted">Comments are mirrored from <a href="#" target="_blank" rel="noopener">Leaflet ↗</a>.</p>
      <p id="${statusId}">Loading comments...</p>
    \`;

    fetch('/leaflet-comments-map.json')
      .then((res) => {
        if (!res.ok) throw new Error('Map not found');
        return res.json();
      })
      .then(async (map) => {
        const mapping = map[pathKey] || map[\`/${pathKey}\`];
        if (!mapping) {
          setStatus('Comments not configured for this page.');
          return;
        }

        const leafLetUrl = typeof mapping === 'string' ? mapping : mapping.leafLetUrl;
        if (!leafLetUrl) {
          setStatus('Comments not configured for this page.');
          return;
        }

        const rkey = getRkeyFromUrl(leafLetUrl);
        if (!rkey) {
          setStatus('Could not determine comment thread.');
          return;
        }

        const did = 'did:plc:aldvhiaxmrkbewll3abu3roz';
        const collection = 'pub.leaflet.document';
        const atUri = \`at://${did}/${collection}/${rkey}\`;

        container.querySelector('.text-muted a')?.setAttribute('href', leafLetUrl);
        const records = [];
        let cursor = null;

        do {
          const res = await fetch(
            \`https://constellation.microcosm.blue/xrpc/blue.microcosm.links.getBacklinks?subject=${encodeURIComponent(
              atUri
            )}&source=pub.leaflet.comment:subject&limit=100${cursor ? \`&cursor=${cursor}\` : ''}\`
          );
          if (!res.ok) throw new Error(\`Backlinks request failed: ${res.status}\`);
          const data = await res.json();
          records.push(...(data.records || []));
          cursor = data.cursor;
        } while (cursor);

        if (!records.length) {
          setStatus('No comments yet.');
          return;
        }

        const comments = [];
        for (const record of records) {
          const recordUrl =
            \`https://slingshot.microcosm.blue/xrpc/com.atproto.repo.getRecord?\` +
            \`rkey=${encodeURIComponent(record.rkey)}&collection=${encodeURIComponent(
              record.collection
            )}&repo=${encodeURIComponent(record.did)}\`;

          const recordRes = await fetch(recordUrl, { headers: { Accept: 'application/json' } });
          if (!recordRes.ok) continue;
          const recordData = await recordRes.json();
          const value = recordData.value || {};

          // Resolve handle
          let handle = record.did;
          try {
            const handleRes = await fetch(
              \`https://slingshot.microcosm.blue/xrpc/com.bad-example.identity.resolveMiniDoc?identifier=${encodeURIComponent(
                record.did
              )}\`
            );
            if (handleRes.ok) {
              const handleData = await handleRes.json();
              if (handleData.handle) handle = handleData.handle;
            }
          } catch (err) {
            console.warn('Handle lookup failed', err);
          }

          comments.push({
            handle,
            createdAt: value.createdAt,
            text: value.plaintext || '',
            attachment: Boolean(value.attachment),
          });
        }

        clearStatus();
        renderComments(container, comments, leafLetUrl);
      })
      .catch((err) => {
        console.error('Failed to load Leaflet comments', err);
        setStatus('Could not load comments right now.');
      });

    function renderComments(containerEl, comments, leafLetUrl) {
      const list = document.createElement('div');
      list.className = 'leaflet-comments-list';

      comments
        .sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt))
        .forEach((comment) => {
          const item = document.createElement('div');
          item.className = 'leaflet-comment mb-3';

          const header = document.createElement('div');
          header.className = 'd-flex justify-content-between';
          header.innerHTML = \`<strong>${escapeHtml(comment.handle)}</strong><span class="text-muted" style="margin-left:8px;">${relativeTime(
            comment.createdAt
          )}</span>\`;
          item.appendChild(header);

          if (comment.attachment) {
            const attachment = document.createElement('div');
            attachment.className = 'alert alert-info mt-2 mb-2';
            attachment.innerHTML = \`Quoted content. View on <a href="${leafLetUrl}" target="_blank" rel="noopener">leaflet.pub ↗</a>\`;
            item.appendChild(attachment);
          }

          const body = document.createElement('p');
          body.textContent = comment.text;
          item.appendChild(body);

          list.appendChild(item);
        });

      containerEl.appendChild(list);
    }

    function relativeTime(dateString) {
      const date = new Date(dateString);
      const now = new Date();
      const diffMs = date - now;
      const diffSec = Math.round(diffMs / 1000);
      const intervals = [
        ['year', 60 * 60 * 24 * 365],
        ['month', 60 * 60 * 24 * 30],
        ['day', 60 * 60 * 24],
        ['hour', 60 * 60],
        ['minute', 60],
        ['second', 1],
      ];

      for (const [unit, secondsInUnit] of intervals) {
        const count = Math.trunc(diffSec / secondsInUnit);
        if (Math.abs(count) >= 1) {
          return new Intl.RelativeTimeFormat(undefined, { numeric: 'auto' }).format(count, unit);
        }
      }
      return 'just now';
    }

    function escapeHtml(str) {
      return str
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#039;');
    }

    function setStatus(text) {
      const el = document.getElementById(statusId);
      if (el) el.textContent = text;
    }

    function clearStatus() {
      const el = document.getElementById(statusId);
      if (el) el.remove();
    }

    function getRkeyFromUrl(url) {
      try {
        const path = new URL(url).pathname;
        const parts = path.split('/').filter(Boolean);
        return parts[parts.length - 1] || null;
      } catch (e) {
        console.error('Invalid Leaflet URL', e);
        return null;
      }
    }
  })();
</script>
<!-- end scripts -->
`) {
            const target = document.getElementById(elementId);
            if (target) target.innerHTML = `<!-- start footer -->
<div id="footer">
  <div class="container">
    <p class="muted credit"><span class="small"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"/></a>&nbsp;&nbsp;This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</span></p>
  </div>
</div>
<!-- end footer -->

<!-- start scripts -->
<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="/js/jquery-1.11.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/prettify.js"></script>

<script>if (location.hostname === "localhost" || location.hostname === "127.0.0.1")
    document.write('<script src="http://'
    + (location.host || 'localhost').split(':')[0]
    + ':35729/livereload.js"></'
    + 'script>')</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57796882-1', 'auto');
  ga('send', 'pageview');
</script>

<script data-execute="true">
  (function initLeafletComments() {
    const container = document.getElementById('leaflet-comments');
    if (!container) return;

    const statusId = 'leaflet-comments-status';
    const pathKey = location.pathname.replace(/^\\/+/, '');

    container.innerHTML = \`
      <hr class="text-muted" />
      <h3>Comments</h3>
      <p class="text-muted">Comments are mirrored from <a href="#" target="_blank" rel="noopener">Leaflet ↗</a>.</p>
      <p id="${statusId}">Loading comments...</p>
    \`;

    fetch('/leaflet-comments-map.json')
      .then((res) => {
        if (!res.ok) throw new Error('Map not found');
        return res.json();
      })
      .then(async (map) => {
        const mapping = map[pathKey] || map[\`/${pathKey}\`];
        if (!mapping) {
          setStatus('Comments not configured for this page.');
          return;
        }

        const leafLetUrl = typeof mapping === 'string' ? mapping : mapping.leafLetUrl;
        if (!leafLetUrl) {
          setStatus('Comments not configured for this page.');
          return;
        }

        const rkey = getRkeyFromUrl(leafLetUrl);
        if (!rkey) {
          setStatus('Could not determine comment thread.');
          return;
        }

        const did = 'did:plc:aldvhiaxmrkbewll3abu3roz';
        const collection = 'pub.leaflet.document';
        const atUri = \`at://${did}/${collection}/${rkey}\`;

        container.querySelector('.text-muted a')?.setAttribute('href', leafLetUrl);
        const records = [];
        let cursor = null;

        do {
          const res = await fetch(
            \`https://constellation.microcosm.blue/xrpc/blue.microcosm.links.getBacklinks?subject=${encodeURIComponent(
              atUri
            )}&source=pub.leaflet.comment:subject&limit=100${cursor ? \`&cursor=${cursor}\` : ''}\`
          );
          if (!res.ok) throw new Error(\`Backlinks request failed: ${res.status}\`);
          const data = await res.json();
          records.push(...(data.records || []));
          cursor = data.cursor;
        } while (cursor);

        if (!records.length) {
          setStatus('No comments yet.');
          return;
        }

        const comments = [];
        for (const record of records) {
          const recordUrl =
            \`https://slingshot.microcosm.blue/xrpc/com.atproto.repo.getRecord?\` +
            \`rkey=${encodeURIComponent(record.rkey)}&collection=${encodeURIComponent(
              record.collection
            )}&repo=${encodeURIComponent(record.did)}\`;

          const recordRes = await fetch(recordUrl, { headers: { Accept: 'application/json' } });
          if (!recordRes.ok) continue;
          const recordData = await recordRes.json();
          const value = recordData.value || {};

          // Resolve handle
          let handle = record.did;
          try {
            const handleRes = await fetch(
              \`https://slingshot.microcosm.blue/xrpc/com.bad-example.identity.resolveMiniDoc?identifier=${encodeURIComponent(
                record.did
              )}\`
            );
            if (handleRes.ok) {
              const handleData = await handleRes.json();
              if (handleData.handle) handle = handleData.handle;
            }
          } catch (err) {
            console.warn('Handle lookup failed', err);
          }

          comments.push({
            handle,
            createdAt: value.createdAt,
            text: value.plaintext || '',
            attachment: Boolean(value.attachment),
          });
        }

        clearStatus();
        renderComments(container, comments, leafLetUrl);
      })
      .catch((err) => {
        console.error('Failed to load Leaflet comments', err);
        setStatus('Could not load comments right now.');
      });

    function renderComments(containerEl, comments, leafLetUrl) {
      const list = document.createElement('div');
      list.className = 'leaflet-comments-list';

      comments
        .sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt))
        .forEach((comment) => {
          const item = document.createElement('div');
          item.className = 'leaflet-comment mb-3';

          const header = document.createElement('div');
          header.className = 'd-flex justify-content-between';
          header.innerHTML = \`<strong>${escapeHtml(comment.handle)}</strong><span class="text-muted" style="margin-left:8px;">${relativeTime(
            comment.createdAt
          )}</span>\`;
          item.appendChild(header);

          if (comment.attachment) {
            const attachment = document.createElement('div');
            attachment.className = 'alert alert-info mt-2 mb-2';
            attachment.innerHTML = \`Quoted content. View on <a href="${leafLetUrl}" target="_blank" rel="noopener">leaflet.pub ↗</a>\`;
            item.appendChild(attachment);
          }

          const body = document.createElement('p');
          body.textContent = comment.text;
          item.appendChild(body);

          list.appendChild(item);
        });

      containerEl.appendChild(list);
    }

    function relativeTime(dateString) {
      const date = new Date(dateString);
      const now = new Date();
      const diffMs = date - now;
      const diffSec = Math.round(diffMs / 1000);
      const intervals = [
        ['year', 60 * 60 * 24 * 365],
        ['month', 60 * 60 * 24 * 30],
        ['day', 60 * 60 * 24],
        ['hour', 60 * 60],
        ['minute', 60],
        ['second', 1],
      ];

      for (const [unit, secondsInUnit] of intervals) {
        const count = Math.trunc(diffSec / secondsInUnit);
        if (Math.abs(count) >= 1) {
          return new Intl.RelativeTimeFormat(undefined, { numeric: 'auto' }).format(count, unit);
        }
      }
      return 'just now';
    }

    function escapeHtml(str) {
      return str
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#039;');
    }

    function setStatus(text) {
      const el = document.getElementById(statusId);
      if (el) el.textContent = text;
    }

    function clearStatus() {
      const el = document.getElementById(statusId);
      if (el) el.remove();
    }

    function getRkeyFromUrl(url) {
      try {
        const path = new URL(url).pathname;
        const parts = path.split('/').filter(Boolean);
        return parts[parts.length - 1] || null;
      } catch (e) {
        console.error('Invalid Leaflet URL', e);
        return null;
      }
    }
  })();
</script>
<!-- end scripts -->
`;
          }
        }
      }

      document.addEventListener('DOMContentLoaded', async () => {
        await loadContent('/navbar.html', 'navbar-container');
        await loadContent('/footer.html', 'footer-container');

        if (typeof prettyPrint === 'function') {
          prettyPrint();
        }
      });
    </script>
  </body>
</html>
